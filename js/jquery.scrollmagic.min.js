/*
y minified version 01-29-15 2015-02-02 
*/
!function(a,b){if("function"==typeof define&&define.amd)define(["jquery","TweenMax","TimelineMax"],b);else{var c=b(a.jQuery,a.TweenMax,a.TimelineMax);a.ScrollMagic=c.Controller,a.ScrollScene=c.Scene}}(this,function(a,b,c){var d=function(b){var c,d,i="ScrollMagic",l={container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100},m=this,n=a.extend({},l,b),o=[],p=!1,q=0,r="PAUSED",s=!0,t=0,u=!0,v=function(){if(m.version=m.constructor.version,a.each(n,function(a){l.hasOwnProperty(a)||(B(2,'WARNING: Unknown option "'+a+'"'),delete n[a])}),n.container=a(n.container).first(),0===n.container.length)throw B(1,"ERROR creating object "+i+": No valid scroll container supplied"),i+" init failed.";s=!a.contains(document,n.container.get(0)),s||n.container.on("resize",function(a){a.stopPropagation()}),t=n.vertical?n.container.height():n.container.width(),n.container.on("scroll resize",z),n.refreshInterval=parseInt(n.refreshInterval),n.refreshInterval>0&&(d=window.setInterval(A,n.refreshInterval)),c=j(y),B(3,"added new "+i+" controller (v"+m.version+")")},w=function(){return n.vertical?n.container.scrollTop():n.container.scrollLeft()},x=function(a){n.vertical?n.container.scrollTop(a):n.container.scrollLeft(a)},y=function(){if(c=j(y),u&&p){var b=a.isArray(p)?p:o.slice(0),d=q;q=m.scrollPos();var e=q-d;r=0===e?"PAUSED":e>0?"FORWARD":"REVERSE",0>e&&b.reverse(),a.each(b,function(a,c){B(3,"updating Scene "+(a+1)+"/"+b.length+" ("+o.length+" total)"),c.update(!0)}),0===b.length&&n.loglevel>=3&&B(3,"updating 0 Scenes (nothing added to controller)"),p=!1}},z=function(a){"resize"==a.type&&(t=n.vertical?n.container.height():n.container.width()),p=!0},A=function(){s||t!=(n.vertical?n.container.height():n.container.width())&&n.container.trigger("resize"),a.each(o,function(a,b){b.refresh()})},B=function(a){if(n.loglevel>=a){var b="("+i+") ->",c=Array.prototype.splice.call(arguments,1);c.unshift(a,b),f.apply(window,c)}},C=function(a){if(a.length<=1)return a;var b=a.slice(0);return b.sort(function(a,b){return a.scrollOffset()>b.scrollOffset()?1:-1}),b};return this.addScene=function(b){return a.isArray(b)?a.each(b,function(a,b){m.addScene(b)}):b instanceof e?b.parent()!=m?b.addTo(m):a.inArray(b,o)<0&&(o.push(b),o=C(o),b.on("shift."+i+"_sort",function(){o=C(o)}),a.each(n.globalSceneOptions,function(a,c){b[a]&&b[a].call(b,c)}),B(3,"added Scene ("+o.length+" total)")):B(1,"ERROR: invalid argument supplied for '.addScene()'"),m},this.removeScene=function(b){if(a.isArray(b))a.each(b,function(a,b){m.removeScene(b)});else{var c=a.inArray(b,o);c>-1&&(b.off("shift."+i+"_sort"),o.splice(c,1),b.remove(),B(3,"removed Scene ("+o.length+" total)"))}return m},this.updateScene=function(b,c){return a.isArray(b)?a.each(b,function(a,b){m.updateScene(b,c)}):c?b.update(!0):(a.isArray(p)||(p=[]),-1==a.inArray(b,p)&&p.push(b),p=C(p)),m},this.update=function(a){return z({type:"resize"}),a&&y(),m},this.scrollTo=function(b){if(b instanceof e)b.parent()===m?m.scrollTo(b.scrollOffset()):B(2,"scrollTo(): The supplied scene does not belong to this controller. Scroll cancelled.",b);else if("string"===a.type(b)||h(b)||b instanceof a){var c=a(b).first();if(c[0]){var d=n.vertical?"top":"left",f=g(n.container),i=g(c);s||(f[d]-=m.scrollPos()),m.scrollTo(i[d]-f[d])}else B(2,"scrollTo(): The supplied element could not be found. Scroll cancelled.",b)}else a.isFunction(b)?x=b:x.call(n.container[0],b);return m},this.scrollPos=function(b){return arguments.length?(a.isFunction(b)?w=b:B(2,"Provided value for method 'scrollPos' is not a function. To change the current scroll position use 'scrollTo()'."),m):w.call(m)},this.info=function(a){var b={size:t,vertical:n.vertical,scrollPos:q,scrollDirection:r,container:n.container,isDocument:s};return arguments.length?void 0!==b[a]?b[a]:void B(1,'ERROR: option "'+a+'" is not available'):b},this.loglevel=function(a){return arguments.length?(n.loglevel!=a&&(n.loglevel=a),m):n.loglevel},this.enabled=function(a){return arguments.length?(u!=a&&(u=!!a,m.updateScene(o,!0)),m):u},this.destroy=function(a){window.clearTimeout(d);for(var b=o.length;b--;)o[b].destroy(a);return n.container.off("scroll resize",z),k(c),B(3,"destroyed "+i+" (reset: "+(a?"true":"false")+")"),null},v(),m};d.version="1.3.0";var e=function(b){var e,h,j,k,l,m,n,o={onCenter:.5,onEnter:1,onLeave:0},p="ScrollScene",q={duration:0,offset:0,triggerElement:null,triggerHook:"onCenter",reverse:!0,tweenChanges:!1,loglevel:2},r=this,s=a.extend({},q,b),t="BEFORE",u=0,v={start:0,end:0},w=0,x=!0,y={unknownOptionSupplied:function(){a.each(s,function(a){q.hasOwnProperty(a)||(A(2,'WARNING: Unknown option "'+a+'"'),delete s[a])})},duration:function(){if(a.isFunction(s.duration)){e=s.duration;try{s.duration=parseFloat(e())}catch(b){A(1,'ERROR: Invalid return value of supplied function for option "duration":',s.duration),e=void 0,s.duration=q.duration}}else s.duration=parseFloat(s.duration),(!a.isNumeric(s.duration)||s.duration<0)&&(A(1,'ERROR: Invalid value for option "duration":',s.duration),s.duration=q.duration)},offset:function(){s.offset=parseFloat(s.offset),a.isNumeric(s.offset)||(A(1,'ERROR: Invalid value for option "offset":',s.offset),s.offset=q.offset)},triggerElement:function(){null!==s.triggerElement&&0===a(s.triggerElement).length&&(A(1,'ERROR: Element defined in option "triggerElement" was not found:',s.triggerElement),s.triggerElement=q.triggerElement)},triggerHook:function(){s.triggerHook in o||(a.isNumeric(s.triggerHook)?s.triggerHook=Math.max(0,Math.min(parseFloat(s.triggerHook),1)):(A(1,'ERROR: Invalid value for option "triggerHook": ',s.triggerHook),s.triggerHook=q.triggerHook))},reverse:function(){s.reverse=!!s.reverse},tweenChanges:function(){s.tweenChanges=!!s.tweenChanges},loglevel:function(){if(s.loglevel=parseInt(s.loglevel),!a.isNumeric(s.loglevel)||s.loglevel<0||s.loglevel>3){var b=s.loglevel;s.loglevel=q.loglevel,A(1,'ERROR: Invalid value for option "loglevel":',b)}}},z=function(){B(),r.on("change.internal",function(a){"loglevel"!==a.what&&"tweenChanges"!==a.what&&("triggerElement"===a.what?F():"reverse"===a.what&&r.update())}).on("shift.internal",function(a){D(),r.update(),("AFTER"===t&&"duration"===a.reason||"DURING"===t&&0===s.duration)&&H()}).on("progress.internal",function(){G(),H()}).on("destroy",function(a){a.preventDefault()})},A=function(a){if(s.loglevel>=a){var b="("+p+") ->",c=Array.prototype.splice.call(arguments,1);c.unshift(a,b),f.apply(window,c)}},B=function(b){if(arguments.length)a.isArray(b)||(b=[b]);else{b=[];for(var c in y)b.push(c)}a.each(b,function(a,b){y[b]&&y[b]()})},C=function(a,b){var c=!1,d=s[a];return s[a]!=b&&(s[a]=b,B(a),c=d!=s[a]),c},D=function(){v={start:w+s.offset},h&&s.triggerElement&&(v.start-=h.info("size")*r.triggerHook()),v.end=v.start+s.duration},E=function(a){if(e){var b="duration";C(b,e.call(r))&&!a&&(r.trigger("change",{what:b,newval:s[b]}),r.trigger("shift",{reason:b}))}},F=function(b){var c=0;if(h&&s.triggerElement){for(var d=a(s.triggerElement).first(),e=h.info(),f=g(e.container),i=e.vertical?"top":"left";d.parent().data("ScrollMagicPinSpacer");)d=d.parent();var j=g(d);e.isDocument||(f[i]-=h.scrollPos()),c=j[i]-f[i]}var k=c!=w;w=c,k&&!b&&r.trigger("shift",{reason:"triggerElementPosition"})},G=function(a){if(j){var b=a>=0&&1>=a?a:u;if(-1===j.repeat())if("DURING"===t&&j.paused())j.play();else{if("DURING"===t||j.paused())return!1;j.pause()}else{if(b==j.progress())return!1;0===s.duration?"DURING"===t?j.play():j.reverse():s.tweenChanges?j.tweenTo(b*j.duration()):j.progress(b).pause()}return!0}return!1},H=function(a){if(k&&h){var b=h.info();if(a||"DURING"!==t){var c={position:l.inFlow?"relative":"absolute",top:0,left:0},d=k.css("position")!=c.position;l.pushFollowers?s.duration>0&&("AFTER"===t&&0===parseFloat(l.spacer.css("padding-top"))?d=!0:"BEFORE"===t&&0===parseFloat(l.spacer.css("padding-bottom"))&&(d=!0)):c[b.vertical?"top":"left"]=s.duration*u,k.css(c),d&&(k.removeClass(l.pinnedClass),I())}else{"fixed"!=k.css("position")&&(k.css("position","fixed"),I(),k.addClass(l.pinnedClass));var e=g(l.spacer,!0),f=s.reverse||0===s.duration?b.scrollPos-v.start:Math.round(u*s.duration*10)/10;e.top-=parseFloat(l.spacer.css("margin-top")),e[b.vertical?"top":"left"]+=f,k.css({top:e.top,left:e.left})}}},I=function(){if(k&&h&&l.inFlow){var b="AFTER"===t,c="BEFORE"===t,d="DURING"===t,e="fixed"==k.css("position"),f=h.info("vertical"),g=l.spacer.children().first(),j=i(l.spacer.css("display")),m={};j?(m["margin-top"]=c||d&&e?k.css("margin-top"):"auto",m["margin-bottom"]=b||d&&e?k.css("margin-bottom"):"auto"):m["margin-top"]=m["margin-bottom"]="auto",l.relSize.width||l.relSize.autoFullWidth?e?a(window).width()==l.spacer.parent().width()?k.css("width",l.relSize.autoFullWidth?"100%":"inherit"):k.css("width",l.spacer.width()):k.css("width","100%"):(m["min-width"]=g.outerWidth(!g.is(k)),m.width=e?m["min-width"]:"auto"),l.relSize.height?e?a(window).height()==l.spacer.parent().height()?k.css("height","inherit"):k.css("height",l.spacer.height()):k.css("height","100%"):(m["min-height"]=g.outerHeight(!j),m.height=e?m["min-height"]:"auto"),l.pushFollowers&&(m["padding"+(f?"Top":"Left")]=s.duration*u,m["padding"+(f?"Bottom":"Right")]=s.duration*(1-u)),l.spacer.css(m)}},J=function(){h&&k&&"DURING"===t&&!h.info("isDocument")&&H()},K=function(){h&&k&&"DURING"===t&&((l.relSize.width||l.relSize.autoFullWidth)&&a(window).width()!=l.spacer.parent().width()||l.relSize.height&&a(window).height()!=l.spacer.parent().height())&&I()},L=function(a){h&&k&&"DURING"===t&&!h.info("isDocument")&&(a.preventDefault(),h.scrollTo(h.info("scrollPos")-(a.originalEvent.wheelDelta/3||30*-a.originalEvent.detail)))};return this.parent=function(){return h},this.duration=function(b){var c="duration";return arguments.length?(a.isFunction(b)||(e=void 0),C(c,b)&&(r.trigger("change",{what:c,newval:s[c]}),r.trigger("shift",{reason:c})),r):s[c]},this.offset=function(a){var b="offset";return arguments.length?(C(b,a)&&(r.trigger("change",{what:b,newval:s[b]}),r.trigger("shift",{reason:b})),r):s[b]},this.triggerElement=function(a){var b="triggerElement";return arguments.length?(C(b,a)&&r.trigger("change",{what:b,newval:s[b]}),r):s[b]},this.triggerHook=function(b){var c="triggerHook";return arguments.length?(C(c,b)&&(r.trigger("change",{what:c,newval:s[c]}),r.trigger("shift",{reason:c})),r):a.isNumeric(s[c])?s[c]:o[s[c]]},this.reverse=function(a){var b="reverse";return arguments.length?(C(b,a)&&r.trigger("change",{what:b,newval:s[b]}),r):s[b]},this.tweenChanges=function(a){var b="tweenChanges";return arguments.length?(C(b,a)&&r.trigger("change",{what:b,newval:s[b]}),r):s[b]},this.loglevel=function(a){var b="loglevel";return arguments.length?(C(b,a)&&r.trigger("change",{what:b,newval:s[b]}),r):s[b]},this.state=function(){return t},this.triggerPosition=function(){var a=s.offset;return h&&(a+=s.triggerElement?w:h.info("size")*r.triggerHook()),a},this.triggerOffset=function(){return r.triggerPosition()},this.scrollOffset=function(){return v.start},this.update=function(a){if(h)if(a)if(h.enabled()&&x){var b,c=h.info("scrollPos");b=s.duration>0?(c-v.start)/(v.end-v.start):c>=v.start?1:0,r.trigger("update",{startPos:v.start,endPos:v.end,scrollPos:c}),r.progress(b)}else k&&"DURING"===t&&H(!0);else h.updateScene(r,!1);return r},this.refresh=function(){return E(),F(),r},this.progress=function(a){if(arguments.length){var b=!1,c=t,d=h?h.info("scrollDirection"):"PAUSED",e=s.reverse||a>=u;if(0===s.duration?(b=u!=a,u=1>a&&e?0:1,t=0===u?"BEFORE":"DURING"):0>=a&&"BEFORE"!==t&&e?(u=0,t="BEFORE",b=!0):a>0&&1>a&&e?(u=a,t="DURING",b=!0):a>=1&&"AFTER"!==t?(u=1,t="AFTER",b=!0):"DURING"!==t||e||H(),b){var f={progress:u,state:t,scrollDirection:d},g=t!=c,i=function(a){r.trigger(a,f)};g&&"DURING"!==c&&(i("enter"),i("BEFORE"===c?"start":"end")),i("progress"),g&&"DURING"!==t&&(i("BEFORE"===t?"start":"end"),i("leave"))}return r}return u},this.setTween=function(b){if(!c)return A(1,"ERROR: TimelineMax wasn't found. Please make sure GSAP is loaded before ScrollMagic or use asynchronous loading."),r;j&&r.removeTween();try{j=new c({smoothChildTiming:!0}).add(b).pause()}catch(d){A(1,"ERROR calling method 'setTween()': Supplied argument is not a valid TweenObject")}finally{b.repeat&&-1===b.repeat()&&(j.repeat(-1),j.yoyo(b.yoyo()))}if(j&&h&&s.triggerElement&&s.loglevel>=2){var e=j.getTweensOf(a(s.triggerElement)),f=h.info("vertical");a.each(e,function(a,b){var c=b.vars.css||b.vars,d=f?void 0!==c.top||void 0!==c.bottom:void 0!==c.left||void 0!==c.right;return d?(A(2,"WARNING: Tweening the position of the trigger element affects the scene timing and should be avoided!"),!1):void 0})}if(parseFloat(TweenLite.version)>=1.14)for(var g,i,k=j.getChildren(!0,!0,!1),l=function(){A(2,"WARNING: tween was overwritten by another. To learn how to avoid this issue see here: https://github.com/janpaepke/ScrollMagic/wiki/WARNING:-tween-was-overwritten-by-another")},m=0;m<k.length;m++)g=k[m],i!==l&&(i=g.vars.onOverwrite,g.vars.onOverwrite=function(){i&&i.apply(this,arguments),l.apply(this,arguments)});return A(3,"added tween"),G(),r},this.removeTween=function(a){return j&&(a&&G(0),j.kill(),j=void 0,A(3,"removed tween (reset: "+(a?"true":"false")+")")),r},this.setPin=function(b,c){var d={pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer",pinnedClass:""};if(c=a.extend({},d,c),b=a(b).first(),0===b.length)return A(1,"ERROR calling method 'setPin()': Invalid pin element supplied."),r;if("fixed"==b.css("position"))return A(1,"ERROR calling method 'setPin()': Pin does not work with elements that are positioned 'fixed'."),r;if(k){if(k===b)return r;r.removePin()}k=b,k.parent().hide();var e="absolute"!=k.css("position"),f=k.css(["display","top","left","bottom","right"]),g=k.css(["width","height"]);k.parent().show(),"0px"===g.width&&e&&i(f.display),!e&&c.pushFollowers&&(A(2,"WARNING: If the pinned element is positioned absolutely pushFollowers is disabled."),c.pushFollowers=!1);var h=a("<div></div>").addClass(c.spacerClass).css(f).data("ScrollMagicPinSpacer",!0).css({position:e?"relative":"absolute","margin-left":"auto","margin-right":"auto","box-sizing":"content-box"}),j=k[0].style;return l={spacer:h,relSize:{width:"%"===g.width.slice(-1),height:"%"===g.height.slice(-1),autoFullWidth:"0px"===g.width&&e&&i(f.display)},pushFollowers:c.pushFollowers,inFlow:e,origStyle:{width:j.width||"",position:j.position||"",top:j.top||"",left:j.left||"",bottom:j.bottom||"",right:j.right||"","box-sizing":j["box-sizing"]||"","-moz-box-sizing":j["-moz-box-sizing"]||"","-webkit-box-sizing":j["-webkit-box-sizing"]||""},pinnedClass:c.pinnedClass},l.relSize.width&&h.css("width",g.width),l.relSize.height&&h.css("height",g.height),k.before(h).appendTo(h).css({position:e?"relative":"absolute",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(l.relSize.width||l.relSize.autoFullWidth)&&k.css("box-sizing","border-box"),a(window).on("scroll."+p+"_pin resize."+p+"_pin",J),k.on("mousewheel DOMMouseScroll",L),A(3,"added pin"),H(),r},this.removePin=function(b){return k&&(b||!h?(k.insertBefore(l.spacer).css(l.origStyle),l.spacer.remove()):"DURING"===t&&H(!0),a(window).off("scroll."+p+"_pin resize."+p+"_pin"),k.off("mousewheel DOMMouseScroll",L),k=void 0,A(3,"removed pin (reset: "+(b?"true":"false")+")")),r},this.setClassToggle=function(b,c){var d=a(b);return 0===d.length||"string"!==a.type(c)?(A(1,"ERROR calling method 'setClassToggle()': Invalid "+(0===d.length?"element":"classes")+" supplied."),r):(m=c,n=d,r.on("enter.internal_class leave.internal_class",function(a){n.toggleClass(m,"enter"===a.type)}),r)},this.removeClassToggle=function(a){return n&&a&&n.removeClass(m),r.off("start.internal_class end.internal_class"),m=void 0,n=void 0,r},this.addTo=function(a){return a instanceof d?h!=a&&(h&&h.removeScene(r),h=a,B(),E(!0),F(!0),D(),I(),h.info("container").on("resize."+p,function(){K(),r.triggerHook()>0&&r.trigger("shift",{reason:"containerSize"})}),A(3,"added "+p+" to controller"),a.addScene(r),r.update()):A(1,"ERROR: supplied argument of 'addTo()' is not a valid ScrollMagic controller"),r},this.enabled=function(a){return arguments.length?(x!=a&&(x=!!a,r.update(!0)),r):x},this.remove=function(){if(h){h.info("container").off("resize."+p);var a=h;h=void 0,A(3,"removed "+p+" from controller"),a.removeScene(r)}return r},this.destroy=function(a){return r.removeTween(a),r.removePin(a),r.removeClassToggle(a),r.trigger("destroy",{reset:a}),r.remove(),r.off("start end enter leave progress change update shift destroy shift.internal change.internal progress.internal"),A(3,"destroyed "+p+" (reset: "+(a?"true":"false")+")"),null},this.on=function(b,c){if(a.isFunction(c)){var d=a.trim(b).toLowerCase().replace(/(\w+)\.(\w+)/g,"$1."+p+"_$2").replace(/( |^)(\w+)(?= |$)/g,"$1$2."+p);a(r).on(d,c)}else A(1,"ERROR calling method 'on()': Supplied argument is not a valid callback!");return r},this.off=function(b,c){var d=a.trim(b).toLowerCase().replace(/(\w+)\.(\w+)/g,"$1."+p+"_$2").replace(/( |^)(\w+)(?= |$)/g,"$1$2."+p+"$3");return a(r).off(d,c),r},this.trigger=function(b,c){A(3,"event fired:",b,"->",c);var d=a.Event(a.trim(b).toLowerCase(),c);return a(r).trigger(d),r},z(),r},f=function(a){var b=["error","warn","log"];a.log||(a.log=function(){});for(var c,d=0;d<b.length;d++)c=b[d],a[c]||(a[c]=a.log);return function(c){(c>b.length||0>=c)&&(c=b.length);var d=new Date,e=("0"+d.getHours()).slice(-2)+":"+("0"+d.getMinutes()).slice(-2)+":"+("0"+d.getSeconds()).slice(-2)+":"+("00"+d.getMilliseconds()).slice(-3),f=b[c-1],g=Array.prototype.splice.call(arguments,1),h=Function.prototype.bind.call(a[f],a);g.unshift(e),h.apply(a,g)}}(window.console=window.console||{}),g=function(a,b){var c={top:0,left:0};if(a=a[0],a&&a.getBoundingClientRect){var d=a.getBoundingClientRect();c.top=d.top,c.left=d.left,b||(c.top+=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||0),c.left+=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0))}return c},h=function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName},i=function(a){return["block","flex","list-item","table","-webkit-box"].indexOf(a)>-1},j=window.requestAnimationFrame,k=window.cancelAnimationFrame;return function(a){var b,c=0,d=["ms","moz","webkit","o"];for(b=0;!j&&b<d.length;++b)j=a[d[b]+"RequestAnimationFrame"],k=a[d[b]+"CancelAnimationFrame"]||a[d[b]+"CancelRequestAnimationFrame"];j||(j=function(b){var d=(new Date).getTime(),e=Math.max(0,16-(d-c)),f=a.setTimeout(function(){b(d+e)},e);return c=d+e,f}),k||(k=function(b){a.clearTimeout(b)})}(window),{Controller:d,Scene:e}});